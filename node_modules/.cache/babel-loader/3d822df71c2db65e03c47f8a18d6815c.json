{"ast":null,"code":"import _regeneratorRuntime from\"/home/ashutosh/Desktop/pyve/myenv/react-notemaster-master/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/home/ashutosh/Desktop/pyve/myenv/react-notemaster-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import Link from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import{connect}from'react-redux';import*as actions from'../store/actions/auth';import{store}from'../index';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import CircularProgress from'@material-ui/core/CircularProgress';function Copyright(){return React.createElement(Typography,{variant:\"body2\",color:\"textSecondary\",align:\"center\"},'Copyright Â© ',React.createElement(Link,{color:\"inherit\",href:\"#\"},\"Notemaster\"),' ',new Date().getFullYear(),'.');}var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};});function SignIn(props,state){var classes=useStyles();var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),errResponse=_React$useState2[0],setErrResponse=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),username=_React$useState4[0],setUsername=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),password=_React$useState6[0],setPassword=_React$useState6[1];function validator(){var usernameValue={username:username}.username;var passwordValue={password:password}.password;if(usernameValue!==''&&passwordValue!==''){return false;}else{return true;}}function handleSubmit(e){var username,password,welcomeMsg;return _regeneratorRuntime.async(function handleSubmit$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();username=e.target.username.value;password=e.target.password.value;_context.next=5;return _regeneratorRuntime.awrap(props.onAuth(username,password));case 5:if(store.getState().token===null){setErrResponse(Object.values(store.getState().response.data));}if(store.getState().token){welcomeMsg='Welcome '+username;toast.success(welcomeMsg,{position:\"top-right\",autoClose:5000,hideProgressBar:true,closeOnClick:true,pauseOnHover:false});setTimeout(function(){props.history.push('/dashboard/');},5000);}case 7:case\"end\":return _context.stop();}}});}return React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},React.createElement(CssBaseline,null),React.createElement(\"div\",{className:classes.paper},React.createElement(Avatar,{className:classes.avatar},React.createElement(LockOutlinedIcon,null)),React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Sign in\"),props.error?React.createElement(Typography,{component:\"h1\",color:\"error\",variant:\"h5\"},errResponse):null,React.createElement(\"form\",{className:classes.form,onSubmit:handleSubmit,noValidate:true},React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"text\",label:\"Username\",name:\"username\",autoFocus:true,onChange:function onChange(event){setUsername(event.target.value);validator();}}),React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",onChange:function onChange(event){setPassword(event.target.value);validator();}}),React.createElement(ToastContainer,null),React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,disabled:validator()},props.loading?React.createElement(CircularProgress,{color:\"secondary\"}):'Sign In'),React.createElement(Grid,{container:true},React.createElement(Grid,{item:true,xs:true},React.createElement(Link,{href:\"/forgot-password/\",variant:\"body2\"},\"Forgot password?\")),React.createElement(Grid,{item:true},React.createElement(Link,{href:\"/signup/\",variant:\"body2\"},\"Don't have an account? Sign Up\"))))),React.createElement(Box,{mt:8},React.createElement(Copyright,null)));}var mapStateToProps=function mapStateToProps(state){return{loading:state.loading,error:state.error,token:state.token,response:state.response};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onAuth:function onAuth(username,password){return dispatch(actions.authLogin(username,password));}};};export default connect(mapStateToProps,mapDispatchToProps)(SignIn);","map":null,"metadata":{},"sourceType":"module"}